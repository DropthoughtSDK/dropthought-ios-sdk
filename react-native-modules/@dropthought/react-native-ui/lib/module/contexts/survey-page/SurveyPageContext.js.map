{"version":3,"sources":["SurveyPageContext.tsx"],"names":["React","assoc","initialValue","mandatoryQuestionTitleRefs","addMandatoryQuestionTitleRef","undefined","SurveyPageContext","createContext","SurveyPageProvider","children","setRefs","useState","useCallback","questionId","ref","state","useMemo","useSurveyPageContext","useContext","useAddMandatoryRef"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,QAAsB,OAAtB;AAOA,MAAMC,YAAoC,GAAG;AAC3CC,EAAAA,0BAA0B,EAAE,EADe;AAE3CC,EAAAA,4BAA4B,EAAE,MAAMC;AAFO,CAA7C;AAKA,MAAMC,iBAAwD,gBAC5DN,KAAK,CAACO,aAAN,CAAoBL,YAApB,CADF;AAOA,OAAO,SAASM,kBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAAiD;AACtD,QAAM,CAACN,0BAAD,EAA6BO,OAA7B,IAAwCV,KAAK,CAACW,QAAN,CAAe,EAAf,CAA9C;AAEA,QAAMP,4BAA4B,GAAGJ,KAAK,CAACY,WAAN,CAAkB,CAACC,UAAD,EAAaC,GAAb,KAAqB;AAC1E;AACAJ,IAAAA,OAAO,CAACT,KAAK,CAACY,UAAD,EAAaC,GAAb,CAAN,CAAP;AACD,GAHoC,EAGlC,EAHkC,CAArC;AAKA;;AACA,QAAMC,KAAK,GAAGf,KAAK,CAACgB,OAAN,CACZ,OAAO;AACLb,IAAAA,0BADK;AAELC,IAAAA;AAFK,GAAP,CADY,EAKZ,CAACD,0BAAD,EAA6BC,4BAA7B,CALY,CAAd;AAQA,sBACE,oBAAC,iBAAD,CAAmB,QAAnB;AAA4B,IAAA,KAAK,EAAEW;AAAnC,KACGN,QADH,CADF;AAKD;AAED,OAAO,MAAMQ,oBAAoB,GAAG,MAAM;AACxC,SAAOjB,KAAK,CAACkB,UAAN,CAAiBZ,iBAAjB,CAAP;AACD,CAFM;AAIP,OAAO,MAAMa,kBAAkB,GAAG,MAAM;AACtC,QAAM;AAAEf,IAAAA;AAAF,MAAmCa,oBAAoB,EAA7D;AACA,SAAOb,4BAAP;AACD,CAHM","sourcesContent":["/**\n * @description\n * this context keep the mandatory question title ref of a single survey page\n * they are saved in the mandatoryQuestionTitleRefs, as map:\n * {\n *     'question-id-1': ref1,\n *     'question-id-3': ref3,\n * }\n */\nimport * as React from 'react';\nimport { assoc } from 'ramda';\n\ntype SurveyPageContextValue = {\n  mandatoryQuestionTitleRefs: { [questionId: string]: any };\n  addMandatoryQuestionTitleRef: (questionId: string, ref: any) => void;\n};\n\nconst initialValue: SurveyPageContextValue = {\n  mandatoryQuestionTitleRefs: {},\n  addMandatoryQuestionTitleRef: () => undefined,\n};\n\nconst SurveyPageContext: React.Context<SurveyPageContextValue> =\n  React.createContext(initialValue);\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport function SurveyPageProvider({ children }: Props) {\n  const [mandatoryQuestionTitleRefs, setRefs] = React.useState({});\n\n  const addMandatoryQuestionTitleRef = React.useCallback((questionId, ref) => {\n    // update the refs map by setting the questionId to ref\n    setRefs(assoc(questionId, ref));\n  }, []);\n\n  /** @type {SurveyPageContextValue} */\n  const state = React.useMemo(\n    () => ({\n      mandatoryQuestionTitleRefs,\n      addMandatoryQuestionTitleRef,\n    }),\n    [mandatoryQuestionTitleRefs, addMandatoryQuestionTitleRef]\n  );\n\n  return (\n    <SurveyPageContext.Provider value={state}>\n      {children}\n    </SurveyPageContext.Provider>\n  );\n}\n\nexport const useSurveyPageContext = () => {\n  return React.useContext(SurveyPageContext);\n};\n\nexport const useAddMandatoryRef = () => {\n  const { addMandatoryQuestionTitleRef } = useSurveyPageContext();\n  return addMandatoryQuestionTitleRef;\n};\n"]}