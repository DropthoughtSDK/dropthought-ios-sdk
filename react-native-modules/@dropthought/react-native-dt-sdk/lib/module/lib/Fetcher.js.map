{"version":3,"names":["NativeModule","jwtDecode","isNil","pick","axios","RENEW_ENDPOINT","DT_API_KEY_HEADER","DEFAULT_TIMEOUT","throwRequestError","mockAxiosResponse","response","name","message","data","error","status","isRequestTimeoutError","isNoInternetError","isTokenValid","jwtToken","jwtPayload","Date","now","exp","e","console","log","setRequestHeader","requestConfig","header","headers","restRequestConfig","Fetcher","defaultRequestConfig","baseURL","timeout","authToken","Promise","resolve","undefined","apiKey","refreshToken","storeTokens","loadCache","url","saveCache","constructor","param","init","fetchWithTimeout","abortController","AbortController","cancelTimeout","timeoutId","setTimeout","abort","params","Object","keys","filter","key","map","encodeURIComponent","join","fetchURL","post","body","fetch","method","JSON","stringify","signal","then","r","isJSONContent","get","indexOf","value","entries","json","text","statusText","toString","catch","err","finally","clearTimeout","authorizeConfig","token","Authorization","tokenRenew","renewTokenIfNeeded","accessToken","request","_requestConfig$header","_requestConfig$header2","authRequired","cache","result"],"sourceRoot":"../../../src","sources":["lib/Fetcher.js"],"mappings":"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"}