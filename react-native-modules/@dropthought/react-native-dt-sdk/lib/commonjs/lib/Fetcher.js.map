{"version":3,"names":["_reactNative","require","_jwtDecode","_interopRequireDefault","_ramda","_axios","obj","__esModule","default","RENEW_ENDPOINT","DT_API_KEY_HEADER","DEFAULT_TIMEOUT","throwRequestError","mockAxiosResponse","response","name","message","data","error","status","exports","isRequestTimeoutError","isNoInternetError","isTokenValid","jwtToken","jwtPayload","jwtDecode","Date","now","exp","e","console","log","setRequestHeader","requestConfig","header","headers","restRequestConfig","Fetcher","defaultRequestConfig","baseURL","timeout","authToken","Promise","resolve","undefined","apiKey","refreshToken","storeTokens","loadCache","url","saveCache","constructor","param","init","isNil","fetchWithTimeout","abortController","AbortController","cancelTimeout","timeoutId","setTimeout","abort","params","Object","keys","filter","key","map","encodeURIComponent","join","fetchURL","axios","post","body","fetch","method","JSON","stringify","signal","then","r","isJSONContent","get","indexOf","value","entries","json","text","statusText","toString","catch","err","finally","clearTimeout","authorizeConfig","token","Authorization","tokenRenew","renewTokenIfNeeded","accessToken","request","_requestConfig$header","_requestConfig$header2","authRequired","cache","result","pick"],"sourceRoot":"../../../src","sources":["lib/Fetcher.js"],"mappings":"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"}